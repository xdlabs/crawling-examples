

<!DOCTYPE html>
<html>
<head>
	 <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
<title>Search Box Example 1</title>
<meta name="ROBOTS" content="NOINDEX, NOFOLLOW" />
<!-- CSS styles for standard search box -->
<style type="text/css">
	#tfheader{
		background-color:#c3dfef;
	}
	#tfnewsearch{
		float:left;
		padding:20px;
	}
	.tftextinput{
		margin: 0;
		padding: 5px 15px;
		font-family: Arial, Helvetica, sans-serif;
		font-size:14px;
		border:1px solid #0076a3; border-right:0px;
		border-top-left-radius: 5px 5px;
		border-bottom-left-radius: 5px 5px;
	}
	.tfbutton {
		margin: 0;
		padding: 5px 15px;
		font-family: Arial, Helvetica, sans-serif;
		font-size:14px;
		outline: none;
		cursor: pointer;
		text-align: center;
		text-decoration: none;
		color: #ffffff;
		border: solid 1px #0076a3; border-right:0px;
		background: #0095cd;
		background: -webkit-gradient(linear, left top, left bottom, from(#00adee), to(#0078a5));
		background: -moz-linear-gradient(top,  #00adee,  #0078a5);
		border-top-right-radius: 5px 5px;
		border-bottom-right-radius: 5px 5px;
	}
	.tfbutton:hover {
		text-decoration: none;
		background: #007ead;
		background: -webkit-gradient(linear, left top, left bottom, from(#0095cc), to(#00678e));
		background: -moz-linear-gradient(top,  #0095cc,  #00678e);
	}
	/* Fixes submit button height problem in Firefox */
	.tfbutton::-moz-focus-inner {
	  border: 0;
	}
	.tfclear{
		clear:both;
	}
</style>
</head>
<body>

	<!-- HTML for SEARCH BAR -->
	<div id="tfheader">
		<div id="tfnewsearch">

				<input type="text" class="tftextinput" name="q" size="80" maxlength="120" id="val">
				<input type="button" value="search" class="tfbutton" onclick="callfn('1')">
		</div>
	<div class="tfclear"></div>
	</div>
	<div id="data"></div>
	<div id="pages"></div>

</body>

<script>

	$("#val").keyup(function(event){
	if(event.keyCode == 13){
		callfn('1');
		var v1 = document.getElementById("val").value;
		filename = "http://127.0.0.1:5001/pages?val=";
		$.ajax({
			url: filename+v1,
			success: function(data){
				html_data = '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;';
				for (var i=1;i<=data.count;i++){
					html_data += "<button style='display:inline-block; color: blue; width: 30px; cursor: pointer;' onclick='callfn("+i+")'><u>"+i+"</u></button>";
				}
				html_data += "</center>";
				$("#pages").html(html_data);
			}
		})
    }
});

function callfn(index)
{
	var v1 = document.getElementById("val").value;
	filename = "http://127.0.0.1:5001/search?val=";
	$.ajax({
		url: filename+v1+"&index="+index,
		success: function(data){
			var htm = "<br>";
            for(var i=0;i<data.result.length;i++)
            {
                htm += "<div id='product'><span style='font-size:1.0em;color:blue'><a href="+data.result[i].url+">"+data.result[i].name+"</a></span><br><span style='font-size:0.7em;color:green'>"+data.result[i].url+"</span><br><span style='font-size:0.7em;color:green'>Category :  "+data.result[i].category+"</span><br><span style='font-size:0.7em;color:green'>"+data.result[i].price+"</span><br><span style='font-size:0.7em;color:green'><a href="+data.result[i].review_link+">"+data.result[i].reviews+"</a></span><br><span style='font-size:0.7em;color:green'><img src="+data.result[i].image+">"+data.result[i].stars+"</span></div><br><br>";
 			}
            $("#data").html(htm);

		}
	})
}
</script>
</html>


